<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/style.css" />

    <title>Nav</title>
  </head>
  <body>
    <nav>
      <div class="nav-links">
        <a href="/index.html">Home</a>
        <a href="/pages/Products.html">Products</a>
        <a href="/pages/AboutUs.html">About Us</a>
        <a href="/pages/Contect.html">Contect with Usüë®‚Äçüíª</a>
        <a href="/pages/Setting.html"> Setting‚öôÔ∏è</a>
        <a href="/pages/ViewProfile.html"> My profile</a>
      </div>
      <div class="cut">
        <p><strong>||</strong></p>
      </div>

      <div class="nav-buttons">
        <a href="/pages/login.html" class="login" id="loginBtn">Login</a>
        <a href="/pages/signUp.html" class="sign-up" id="signupBtn">Sign up</a>
        <button onclick="logout()" class="logout-btn" id="logoutBtn" style="display: none;">Logout</button>

        <a href="/pages/cart.html" class="cart-icon-container">
          <img
            src="/Images/shopping-cart.svg"
            alt="Shopping Cart"
            id="cartIcon"
          />
          <span id="cartCount">0</span>
        </a>
      </div>
    </nav>

    <script>
      // Check login status on page load
      document.addEventListener('DOMContentLoaded', function() {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        updateNavButtons(currentUser);
      });

      function updateNavButtons(user) {
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const logoutBtn = document.getElementById('logoutBtn');

        if (user) {
          loginBtn.style.display = 'none';
          signupBtn.style.display = 'none';
          logoutBtn.style.display = 'block';
        } else {
          loginBtn.style.display = 'block';
          signupBtn.style.display = 'block';
          logoutBtn.style.display = 'none';
        }
      }

      function logout() {
        localStorage.removeItem('currentUser');
        updateNavButtons(null);
        window.location.href = '/index.html';
      }
    </script>
  </body>
</html>